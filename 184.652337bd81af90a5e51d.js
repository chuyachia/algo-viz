(self.webpackChunkalgo_viz=self.webpackChunkalgo_viz||[]).push([[184,943,964,726,252],{943:(t,e,i)=>{"use strict";i.r(e),i.d(e,{BPlusTree:()=>h});var n=i(964),r=i(252);function s(t){this.isLeaf=t,this.next,this.entryHead=new o(void 0,void 0,t,this),this.entry=[],this.display=function(t,e,i,r,s,o){let h=this.getEntryStartX(e,i,this.entry.length,s),l=e;const d=(i-e)/(this.entry.length+1);let c;void 0!==this.entryHead.child&&(c=this.displayChild(t,this.entryHead.child,h,r,l,l+d,r+2*o,s,o),l+=d);for(const e of this.entry){if(void 0!==e.key&&(e.display(t,s,o,h,r),h+=s),void 0!==e.child){const i=l+d,u=r+2*o;if(e.child.isLeaf){let r=this.getEntryStartX(l,i,e.child.entry.length,s);t.push(),t.stroke(n.GREY.r,n.GREY.g,n.GREY.b),t.line(c,u+o/2,r,u+o/2),t.pop()}c=this.displayChild(t,e.child,h,r,l,i,u,s,o)}l+=d}return h},this.displayChild=function(t,e,i,n,r,s,o,h,l){return t.line(i,n+l/2,(r+s)/2,o),e.display(t,r,s,o,h,l)},this.replaceEntry=function(t){this.entry=t;for(const e of t)e.node=this},this.insertNewEntry=function(t,e){let i=new o(t,e,this.isLeaf,this),n=this.findIndexByKey(t,!1);return this.entry.splice(n,0,i),i},this.findIndexByKey=function(t,e){let i=0,n=this.entry.length;const r=e?e=>e<t:e=>e<=t;for(;i<n;){let t=i+Math.floor((n-i)/2);r(this.entry[t].key)?i=t+1:n=t}return i},this.findEntryByKey=function(t){let e=this.findIndexByKey(t,!0);return void 0!==this.entry[e]&&this.entry[e].key===t?this.entry[e]:e>0?this.entry[e-1]:this.entryHead},this.findNthEntry=function(t){return this.entry[t]},this.getEntryStartX=function(t,e,i,n){return(t+e)/2-i*n/2}}function o(t,e,i,r){this.key=t,this.value=e,this.isLeaf=i,this.node=r,this.next,this.child;let s=n.GREY.r,o=n.GREY.g,h=n.GREY.b;this.changeColor=function(t){s=t.r,o=t.g,h=t.b},this.display=function(t,e,i,n,r){if(void 0===this.key)return;t.push(),t.fill(s,o,h),t.rect(n,r,e,i),t.fill(0,0,0);const l=this.isLeaf&&void 0!==this.value?this.key+" : "+this.value:this.key;t.textAlign(t.LEFT,t.CENTER),t.text(l,n+2,r+i/2),t.pop()}}function h(t){this.root=new s(!1),this.order=t,this.get=function(t){let e=this.root;for(;void 0!==e;){let i=e.findEntryByKey(t);if(i.isLeaf)return i.key===t?i.value:null;e=i.child}return null},this.insert=function(e,i){const n=new r.Stack;let o=this.root;for(;void 0!==o;)if(o.isLeaf)o.insertNewEntry(e,i),o=void 0;else{let t=o.findEntryByKey(e);n.push(t),void 0===t.child&&(t.child=new s(!0)),o=t.child}for(;n.peek().child.entry.length>2*this.order;){let e=n.pop(),i=e.child,r=i.entry.slice(0,t),o=i.entry.slice(t);i.replaceEntry(r);let h=new s(i.isLeaf),l=o[0].key;if(i.isLeaf?(h.replaceEntry(o),i.next=h):(h.entryHead.child=o.shift().child,h.replaceEntry(o)),0===n.size()){let t=new s(!1);t.insertNewEntry(l,void 0),t.entryHead.child=i,t.entry[0].child=h,e.child=t;break}e.node.insertNewEntry(l,void 0).child=h}}}},184:(t,e,i)=>{"use strict";i.r(e),i.d(e,{sketch:()=>r,explainText:()=>s});var n=i(943);function r(t){let e,i,r,s;function o(n){if(n.keyCode!==t.ENTER)return;const r=parseInt(i.value());i.value(""),Number.isNaN(r)||e.insert(r)}function h(){const t=parseInt(r.value());e=Number.isNaN(t)?new n.BPlusTree(1):new n.BPlusTree(t)}t.setup=function(){t.createCanvas(700,550),i=t.createInput(""),i.attribute("placeholder","Enter number"),i.position(10,40),i.elt.addEventListener("keypress",o),s=t.createButton("Reset"),s.position(10,40+i.height+10),s.mousePressed(h),r=t.createRadio(),r.elt.addEventListener("click",(function(t){"INPUT"===t.target.nodeName&&h()})),r.position(10,40+i.height+s.height+10),r.option(1,"Order 1"),r.option(2,"Order 2"),r.option(3,"Order 3"),r.child()[0].setAttribute("checked",""),h()},t.draw=function(){t.background(255,255,255),t.text("Enter a number to insert a new node",10,10),void 0!==e&&void 0!==e.root.entryHead.child&&e.root.entryHead.child.display(t,0,700,100,20,20)}}const s="<p><strong>B plus tree</strong></p>"},964:(t,e,i)=>{"use strict";i.r(e),i.d(e,{RED:()=>n,BLUE:()=>r,GREY:()=>s});const n={r:254,g:144,b:160},r={r:89,g:235,b:199},s={r:154,g:167,b:160}},726:(t,e,i)=>{"use strict";function n(){let t,e,i=0;this.addFirst=function(e){let n={value:e};n.next=t,t=n,i++},this.add=function(n){let r={value:n};null==t&&(t=r),null==e?e=r:(e.next=r,e=e.next),i++},this.peek=function(){return null!=t?t.value:void 0},this.poll=function(){const e=t;return t=t.next,i--,e.value},this.size=function(){return i}}i.r(e),i.d(e,{LinkedList:()=>n})},252:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Stack:()=>r});var n=i(726);function r(){let t=new n.LinkedList;this.push=function(e){t.addFirst(e)},this.pop=function(){return t.poll()},this.peek=function(){return t.peek()},this.size=function(){return t.size()}}}}]);