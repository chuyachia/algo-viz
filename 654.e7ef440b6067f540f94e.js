(self.webpackChunkalgo_viz=self.webpackChunkalgo_viz||[]).push([[654,878,745,175,964,726,252,129],{878:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Edge:()=>s});var o=i(964);function s(e,t,i,s,n,d){this.weight=e,this.from=t,this.to=i;let r=o.GREY.r,a=o.GREY.g,l=o.GREY.b;this.display=function(){null!=this.from&&null!=this.to&&(d?this.drawDirectedEdge():this.drawUndirectedEdge())},this.drawUndirectedEdge=function(){var e=n.atan2(this.from.y-this.to.y,this.from.x-this.to.x);n.push(),n.stroke(r,a,l),n.strokeWeight(this.weight),n.line(this.from.x,this.from.y,this.to.x+s/2*n.cos(e),this.to.y+s/2*n.sin(e)),n.pop()},this.drawDirectedEdge=function(){var e=n.atan2(this.from.y-this.to.y,this.from.x-this.to.x);n.push(),n.stroke(r,a,l),n.strokeWeight(this.weight),n.line(this.from.x,this.from.y,this.to.x+s*n.cos(e),this.to.y+s*n.sin(e)),n.pop(),n.push(),n.stroke(r,a,l),n.fill(n.color(255,255,255)),n.translate(this.to.x,this.to.y),n.rotate(e-n.HALF_PI),n.triangle(0,s/2,s/4,s,-s/4,s),n.pop()},this.changeColor=function(e){r=e.r,a=e.g,l=e.b}}},745:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Vertex:()=>n});var o=i(964),s=i(878);function n(e,t,i,n,d){this.id=e,this.x=t,this.y=i,this.edges=[],this.value,this.displayValue;let r=o.GREY.r,a=o.GREY.g,l=o.GREY.b,h=0,u=new Set;this.display=function(){if(void 0===this.x||void 0===this.y)return;d.push(),d.stroke(r,a,l,80),d.strokeWeight(h),d.fill(r,a,l),d.circle(this.x,this.y,n),d.fill(0,0,0),d.strokeWeight(0);let e=this.displayValue.length>0?" : "+this.displayValue:"";d.textAlign(d.CENTER),d.text(this.id+e,this.x,this.y+n),d.pop()},this.displayEdges=function(){for(const e of this.edges)e.display()},this.changeColor=function(e){r=e.r,a=e.g,l=e.b},this.getColor=function(){return{r,g:a,b:l}},this.changeStrokeWeight=function(e){h=e},this.addEdge=function(e,t){e.id==this.id||u.has(e.id)||(u.add(e.id),this.edges.push(new s.Edge(t,this,e,n,d,!0)))}}},175:(e,t,i)=>{"use strict";i.r(t),i.d(t,{tarjan:()=>r});var o=i(964),s=i(252),n=i(129),d=i(878);function*r(e,t){let i=(0,n.waitNFrame)(t);const r=new Array(e.length),a=new Array(e.length),l=new s.Stack,h=new s.Stack;let u=0;for(const t of e){if(2===r[t.id])continue;let e=u,s=0;for(l.push({seq:s,edge:new d.Edge(0,null,t,0,0)}),h.push({seq:s,edge:new d.Edge(0,null,t,0,0)}),s++;l.size()>0;){let t=l.pop().edge,n=t.to;r[n.id]=1,n.value=u,a[n.id]=u,n.displayValue="group "+u++;const d={r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random())};for(t.changeColor(o.RED),n.changeColor(d);!1===i.next().value;)yield;for(const t of n.edges){let n=t.to;if(void 0===r[n.id])l.push({seq:s,edge:t}),h.push({seq:s,edge:t}),s++;else if(n.value>=e){for(t.changeColor(o.RED);!1===i.next().value;)yield;for(t.changeColor(o.GREY);h.size()>0&&(0===l.size()||h.peek().seq!==l.peek().seq);){let e=h.pop().edge,t=e.to;for(r[t.id]=2,n.value<t.value&&(t.value=n.value,t.displayValue=n.displayValue,a[t.id]=a[n.id],t.changeColor(n.getColor())),e.changeColor(o.GREY);!1===i.next().value;)yield}}}for(;h.size()>0&&(0===l.size()||h.peek().seq!==l.peek().seq);){let e=h.pop().edge,t=e.to;for(e.changeColor(o.GREY),r[t.id]=2;!1===i.next().value;)yield}}}return a}},654:(e,t,i)=>{"use strict";i.r(t),i(666);var o=i(745),s=i(175);test("Tarjan finds strongly connected components",(()=>{const e=[];for(let t=0;t<5;t++)e[t]=new o.Vertex(t);let t;for(e[0].addEdge(e[2],1),e[0].addEdge(e[3],1),e[1].addEdge(e[0],1),e[2].addEdge(e[1],1),e[3].addEdge(e[4],1),t=(0,s.tarjan)(e,0).next();!t.done;);let i=t.value;expect(i[0]).toBe(i[1]),expect(i[1]).toBe(i[2]),expect(i[3]).not.toBe(i[0]),expect(i[4]).not.toBe(i[0]),expect(i[4]).not.toBe(i[3])})),test("Tarjan finds strongly connected components 2",(()=>{const e=[];for(let t=0;t<8;t++)e[t]=new o.Vertex(t);let t;for(e[0].addEdge(e[1],1),e[1].addEdge(e[2],1),e[2].addEdge(e[0],1),e[3].addEdge(e[4],1),e[3].addEdge(e[7],1),e[4].addEdge(e[5],1),e[5].addEdge(e[0],1),e[5].addEdge(e[6],1),e[6].addEdge(e[0],1),e[6].addEdge(e[2],1),e[6].addEdge(e[4],1),e[7].addEdge(e[3],1),e[7].addEdge(e[5],1),t=(0,s.tarjan)(e,0).next();!t.done;);let i=t.value;expect(i[0]).toBe(i[1]),expect(i[1]).toBe(i[2]),expect(i[3]).toBe(i[7]),expect(i[4]).toBe(i[5]),expect(i[5]).toBe(i[6]),expect(i[0]).not.toBe(i[3]),expect(i[0]).not.toBe(i[4]),expect(i[3]).not.toBe(i[4])}))},964:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RED:()=>o,BLUE:()=>s,GREY:()=>n});const o={r:254,g:144,b:160},s={r:89,g:235,b:199},n={r:154,g:167,b:160}},726:(e,t,i)=>{"use strict";function o(){let e,t,i=0;this.addFirst=function(t){let o={value:t};o.next=e,e=o,i++},this.add=function(o){let s={value:o};null==e&&(e=s),null==t?t=s:(t.next=s,t=t.next),i++},this.peek=function(){return null!=e?e.value:void 0},this.poll=function(){const t=e;return e=e.next,i--,t.value},this.size=function(){return i}}i.r(t),i.d(t,{LinkedList:()=>o})},252:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Stack:()=>s});var o=i(726);function s(){let e=new o.LinkedList;this.push=function(t){e.addFirst(t)},this.pop=function(){return e.poll()},this.peek=function(){return e.peek()},this.size=function(){return e.size()}}},129:(e,t,i)=>{"use strict";function*o(e){for(;;){for(let t=0;t<e-1;t++)yield!1;yield!0}}i.r(t),i.d(t,{waitNFrame:()=>o})}}]);